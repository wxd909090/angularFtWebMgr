<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
	<title>OSS web直传</title>
	<link rel="stylesheet" type="text/css" href="css/style.css"/>
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
</head>
<body>

<h4>选择图片文件:jpg,gif,png,bmp</h4><!-- 格式支持和后端协商保持同步 -->
<div id="ossfile"></div><!-- 可配置Id,默认用这个id -->
<br/>
<div id="uploadContainer"><!-- 可配置Id,默认用这个id -->
	<a id="selectfilesBtn" href="javascript:void(0);" class='btn'>选择文件</a> <!-- 可配置Id,默认用这个id -->
	<a id="postfilesBtn" href="javascript:void(0);" class='btn'>开始上传</a> <!-- 可配置Id,默认用这个id -->
</div>


<p>&nbsp;</p>

</body>
<script type="text/javascript" src="js/lib/plupload-2.3.1/js/plupload.full.min.js"></script> <!-- 上传工具库 -->
<script type="text/javascript" src="js/qnupload.js"></script><!-- 封装好的上传接口，demo级,可以自行修改 -->

<script type="text/javascript">
	//上传成功回调
	var callbackOnSuccessFunc = function(){
		//一般来说需要把这个路径和buccket写入js变量或隐藏input去，提交时判断，没有的话就是没传文件
	    alert('bucket=' + qnUpload.uploadSignInfo.bucket + ', aliyunPath=' + qnUpload.ossPath);
	}

	//后面三个参数，每个地方的platform module func参数请和后端确认
	//参数1 = 访问api的完整前缀地址
	//参数2-4 = 后端给定义
	//参数5 上传成功时回调
	var qnUpload = new QnUpload("/", 'PT_FT_OSS', 'STORE_RETAIL', 'retail_img', callbackOnSuccessFunc);
	qnUpload.init();

	//如果和其他上传不同，请使用另外的功能名
	/*var qnUpload2 = new QnUpload("http://passportapi.tt.qnbar.com/", 'PT_ZYU_OSS', 'MOD_ZYU_FILM_LIB', 'filmSubtitle', callbackOnSuccessFunc2);
	qnUpload2.uploadOnSelectFile = true; //选中文件立刻上传
	qnUpload2.selectFileBtn = 'selectfilesBtn2';
    qnUpload2.uploadRunBtn = 'postfilesBtn2';
    qnUpload2.uploadContainer = 'uploadContainer2';
    qnUpload2.ossFileDisp = 'ossfile2';
	qnUpload2.init();*/
</script>
</html>
